import{S as k,P as z,W as C,O as D,V as f,a as G,R as T,T as E,G as j,D as B,E as h,b as l,M as w,e as g,f as x,g as W,v as A,h as q,j as O,k as X,L as _,n as o,C as F}from"./index-ce4bc38d.js";const S=document.querySelector("canvas.webgl")||void 0,r=new k,n={width:window.innerWidth,height:window.innerHeight},e=new z(45,n.width/n.height,.1,100);e.position.x=-2;e.position.y=6.5;e.position.z=4;r.add(e);const s=new C({canvas:S,antialias:!0});s.setSize(n.width,n.height);s.setPixelRatio(Math.min(window.devicePixelRatio,2));window.addEventListener("resize",()=>{n.width=window.innerWidth,n.height=window.innerHeight,e.aspect=n.width/n.height,e.updateProjectionMatrix(),s.setSize(n.width,n.height),s.setPixelRatio(Math.min(window.devicePixelRatio,2))});s.shadowMap.enabled=!0;const i=new D(e,S);i.enableDamping=!0;i.minDistance=2;i.maxDistance=10;i.addEventListener("change",()=>{const a=e.position.distanceTo(new f(-1.4,.18,.07));e.fov=a*10,e.updateProjectionMatrix()});const m=new G;window.addEventListener("mousemove",a=>{m.x=a.clientX/n.width*2-1,m.y=-(a.clientY/n.height)*2+1});const H=new T,V=new f(10,0,0);V.normalize();const d=document.querySelector(".loading"),b=new _(()=>{o.to(L.uniforms.uAlpha,{duration:1,value:0,delay:.3}),window.innerWidth>768?(e.position.x=-3.07,e.position.y=.93,e.position.z=3.41,o.to(e.position,{duration:1,x:-5,delay:.3}),o.to(e.position,{duration:1,y:2.2,delay:.3}),o.to(e.position,{duration:1,z:4,delay:.3}),i.target.set(-.5,1.2,0)):(e.position.x=-3.07,e.position.y=.93,e.position.z=3.41,o.to(e.position,{duration:1,x:-1,delay:.3}),o.to(e.position,{duration:1,y:3,delay:.3}),o.to(e.position,{duration:1,z:7.2,delay:.3}),i.target.set(-1,1.2,1)),d&&setTimeout(()=>{d.remove()},3e3)},(a,u,t)=>{const P=u/t;d&&(d.innerHTML=`${Math.round(P*100)}%`)}),c=new E(b),I=new j(b).setDRACOLoader(new B().setDecoderPath("draco/")),v=c.load("environment/environment.jpg"),p=c.load("environment/environment2.jpg"),M=c.load("environment/night_skyscraper.jpg");v.mapping=h;v.colorSpace=l;p.mapping=h;p.colorSpace=l;M.mapping=h;M.colorSpace=l;r.background=M;const y=c.load("bedroomBaked.jpg");y.flipY=!1;y.colorSpace=l;const Y=new w({map:y}),$=new g({metalness:0,roughness:0,transmission:.95,opacity:1,ior:1.95,envMap:p}),J=new g({metalness:0,roughness:0,envMapIntensity:1,transmission:.95,transparent:!0,ior:1.75,envMap:v,side:x,color:5592405,opacity:1}),K=new g({metalness:1,roughness:0,envMapIntensity:1,transmission:1,ior:1.75,envMap:p,color:16753920,side:x}),N=new w({color:16702653}),Q=new w({color:16753920}),L=new W({transparent:!0,uniforms:{uAlpha:{value:1}},vertexShader:A,fragmentShader:q});I.load("bedroom.glb",a=>{r.add(a.scene),a.scene.traverse(u=>{const t=u;t.material=(()=>["TableGlass","BottledGlass"].includes(t.name)?$:["BottledLight"].includes(t.name)?N:["XtalMetal"].includes(t.name)?K:["XtalLight"].includes(t.name)?(console.log(t.position),Q):["Xtal"].includes(t.name)?J:Y)()})});const U=new O(2,2,1,1),Z=new X(U,L);r.add(Z);const ee=new F,R=()=>{ee.getElapsedTime(),H.setFromCamera(m,e),i.update(),s.render(r,e),window.requestAnimationFrame(R)};R();
//# sourceMappingURL=bedroom-2112541f.js.map
